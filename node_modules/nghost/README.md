
# nghost

  

  

-  [Install](#install)

-  [Description](#description)

-  [How to use](#how-to-use)

-  [Options](#options)

- [Change Log](#change-log)

  

  

# Install

  

```sh

$ npm i nghost

```

  

## Description


Allows you to host web files such as the files generated by Angular from `ng build --prod` command.

  

### Default content type
  Name|Content type|Encodage type
---|---|---
html|text/html|text
javascript|application/javascript|text
style sheet| text/css|text
Javascript notation|application/json|text
Web Open Font Format| application/font-woff woff|binary
Web Open Font Format 2| application/font-woff2|binary
Embedded OpenType|application/vnd.ms-fontobject eot|binary
True Type|application/octet-stream|binary
Map | application/octet-stream| binary
MPEG-4|video/mp4|binary
Adobe Flash|video/x-flv|binary
Scalable Vector Graphics|image/svg+xml|binary
Jpg|image/jpg|binary
Jpeg|image/jpeg|binary
Png|image/png|binary  

## How to use

```js

var  nghost = require('nghost');

//Set Options

var  options = {
	publicFolder:  __dirname + '/dist',
	port:  8080,
	favicon:  __dirname + '/dist/favicon.ico'
}

//Init Server

//nghost() function return Express application server.

var  app = nghost(options);

//It's Done, Have a fun

```
## Options

Here is all options params.

```js

var  options = {
	publicFolder:  __dirname + '/public',
	hostname:  'localhost',
	favicon:  __dirname + '/favicon.ico',
	port:  80,
	encode:  'utf-8',
	bodyParser: true,
	session: 'SESSION_SECRET_KEY',
	gets: [],
    posts: [],
    "Access-Control-Allow-Origin": "*",
    "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
}

```
### Advance

To Add new requests, you must specify it in the Gets or Posts array in the options
```js
//Example
//Traditionnal get and post
app.get("/foo", function(req, res){
	res.send("Your request is " + req.url);
})

app.post("/foo", function(req, res){
	res.send("Your post is " + req.url);
})

//nghost get and post
var options = {
....
	gets:[
		{
			key: "/foo",//regex
			function:  function (req, res) {
				res.send("Your request is " + req.url);
			}
		}
	],
	posts:[
		{
			key: "/foo",//regex
			function:  function (req, res) {
				res.send("Your post is " + req.url);
			}
		}
	]
....
}
```
Do not forget to add req and res arguments.


To Add new content-Type 

```js
var options = {
	....
	contents: [
		{
			key: /\.html$/,
			type:  'text',
			contentType:  'text/html'
		}
	]
	....
}
```


Place all web file in your specified public folder.

### Change Log
######v. 1.0.2
- debug: add body-parser for getting post value
```js
//new options 
var options = {
	....
	bodyParser: true, // True or False
	....
}
```
######v. 1.0.3
- add: Session management
```js
//new options 
var options = {
	....
	session: 'SESSION_SECRET_KEY',
	....
}
```
######v. 1.0.5
- debug: correction Post and Get Matching

######v. 1.0.10
- debug: correction regex matching Post and Get in query

######v. 1.0.11
- debug: correction binary content type

######v. 1.0.12
- add: Access-Control-Allow-Origin headers params added